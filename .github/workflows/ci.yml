steps:
# 1. Check out the code
- uses: actions/checkout@v3

# 2. Set up Python
- name: Set up Python 3.10
  uses: actions/setup-python@v3
  with:
    python-version: "3.10"

# 3. Install Dependencies
- name: Install dependencies
  run: |
    python -m pip install --upgrade pip
    pip install -r requirements.txt
    pip install pytest  # Install test runner

# 4. Run Tests
- name: Run Unit Tests
  env:
    # We set dummy keys so the app doesn't crash on import
    GROQ_API_KEY: "dummy_key"
    OMDB_API_KEY: "dummy_key"
    YOUTUBE_API_KEY: "dummy_key"
  run: |
    pytest -q